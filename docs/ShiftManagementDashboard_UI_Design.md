# シフト管理ダッシュボード UI設計案

## 1. 設計思想・最重要目標

*   **究極のシンプルさ:** 誰でも直感的に理解できるインターフェース。
*   **最小限の操作:** 数クリックで目的のタスクを完了できる。
*   **一目瞭然:** 情報が視覚的に整理され、状況把握が容易。
*   **ストレスフリー:** 迷わせない、待たせない、スムーズな操作感。

## 2. 画面全体レイアウト

*   **ヘッダー:** アプリケーション共通のナビゲーション（ホーム、スタッフ管理など）を配置。現在表示しているのが「シフト管理ダッシュボード」であることが明確にわかるタイトルを表示。
*   **メインコンテンツエリア:**
    *   **左側（または上部）: コントロールパネル**
        *   日付範囲セレクター
        *   表示モード切替（カレンダービュー / リストビュー）
    *   **右側（または下部）: データ表示エリア**
        *   シフト希望一覧 / カレンダー表示
        *   日別・時間帯別人手サマリー

## 3. 主要コンポーネントとデザイン詳細

### 3.1. コントロールパネル

#### 3.1.1. 日付範囲セレクター

*   **目的:** 表示するシフトの期間を簡単に選択する。
*   **UIコンポーネント案:**
    *   `DatePicker` (shadcn/ui) を使用。
    *   **プリセット選択:** 「今日」「明日」「今週」「来週」のようなクイック選択ボタン。
    *   **期間指定:** 開始日と終了日をカレンダーから選択。
*   **デザイン:**
    *   直感的に操作できるカレンダーUI。
    *   選択されている期間が明確にわかる表示。

#### 3.1.2. 表示モード切替

*   **目的:** 状況に応じて最適な表示形式を選択する。
*   **UIコンポーネント案:**
    *   `ToggleGroup` または `SegmentedControl` 風のボタングループ (shadcn/uiの `Button` をグループ化して表現)。
    *   選択肢: 「リストビュー」「カレンダービュー」
*   **デザイン:**
    *   現在選択中のモードが視覚的に強調される。
    *   アイコン (例: リストアイコン、カレンダーアイコン) とテキストラベルで分かりやすく。

### 3.2. データ表示エリア

#### 3.2.1. シフト希望一覧 (リストビュー時)

*   **目的:** 提出されたシフト希望を一覧で確認し、承認・却下作業を行う。
*   **UIコンポーネント案:** `Table` (shadcn/ui)
*   **表示項目 (デフォルト):**
    *   `[ ]` (チェックボックス): 一括操作用
    *   `日付`: (例: 05/21 (火))
    *   `スタッフ名`: (例: 山田 太郎) - クリックでスタッフ詳細（未実装）へリンクも考慮
    *   `希望時間`: (例: 18:00 - 23:00)
    *   `ステータス`: 色分けされたバッジ (例: <Badge color="yellow">申請中</Badge>, <Badge color="green">承認済</Badge>, <Badge color="red">却下済</Badge>)
    *   `アクション`:
        *   <Button size="sm" variant="outline" color="green">承認</Button>
        *   <Button size="sm" variant="outline" color="red">却下</Button>
*   **ソート機能:** 各列ヘッダーで昇順・降順ソート可能 (日付、スタッフ名、ステータスなど)。
*   **フィルター機能:**
    *   ステータスフィルター (例: 「申請中のみ表示」) - ドロップダウンまたはトグルボタン。
    *   日付フィルター (コントロールパネルのセレクターと連動)。
    *   スタッフ名検索。
*   **デザイン:**
    *   行ごとに十分な余白を取り、見やすさを重視。
    *   ステータスの色分けで状況を瞬時に把握。
    *   アクションボタンは各行に常に表示し、迅速な操作を可能に。
    *   **一括操作:** チェックボックスで複数選択後、テーブル上部に「一括承認」「一括却下」ボタンを表示。

#### 3.2.2. シフト表示 (カレンダービュー時)

*   **目的:** 週単位または月単位でシフトの全体像を把握する。
*   **UIコンポーネント案:** `Calendar` (shadcn/ui) をカスタマイズ、またはフルカレンダーライブラリ (例: FullCalendar) の導入を検討。
*   **表示内容:**
    *   各日付セルに、その日のシフト情報を表示。
    *   スタッフ名と時間、ステータスを簡潔に表示。
    *   クリックでシフト詳細ポップアップ（承認・却下ボタン付き）を表示。
*   **デザイン:**
    *   シフトの密度に応じてセルの見た目を調整。
    *   色分けでステータスやスタッフを区別。
    *   ドラッグ＆ドロップでのシフト変更は将来的な拡張として検討。

#### 3.2.3. 日別・時間帯別人手サマリー

*   **目的:** 各時間帯の人員の過不足を視覚的に把握し、迅速な対応を促す。
*   **配置:** リストビュー/カレンダービューの下、またはサイドバーに配置。
*   **UIコンポーネント案:**
    *   **日別表示:** 選択された日付 (またはカレンダービューで選択された日) のサマリー。
    *   **時間帯グラフ:** 横軸に時間 (例: 1時間ごと)、縦軸に人数。
        *   `棒グラフ` または `エリアチャート` を使用。
        *   **必要人数ライン:** 目標となるスタッフ数を線で表示。
        *   **確保済み人数バー:** 現在承認済みのスタッフ数をバーで表示。
        *   **不足/過剰表示:** 必要人数と確保済み人数の差を色 (不足: 赤、充足: 緑、過剰: 青など) や数値で明確に表示。
*   **デザイン:**
    *   シンプルで明確なグラフ。
    *   不足している時間帯が特に目立つように強調 (例: 赤色のハイライト、警告アイコン)。
    *   マウスオーバーで詳細情報 (例: 具体的な不足人数) を表示。
*   **インタラクション:** グラフの特定時間帯をクリックすると、関連するシフト希望をフィルタリング表示するなどの連携も考慮。

### 3.3. ヘルプ通知機能

*   **目的:** 人員不足時に、登録スタッフへヘルプを要請する。
*   **トリガー:**
    *   人手サマリーで不足が明らかな場合に表示される「ヘルプ募集」ボタン。
    *   または、特定の日付/時間帯を選択して手動で起動。
*   **UIコンポーネント案:** `Dialog` (shadcn/ui)
*   **モーダル内容:**
    *   `対象日時`: (自動入力、編集可)
    *   `募集メッセージテンプレート`: (定型文 + カスタマイズ可能エリア)
    *   `送信対象選択`:
        *   「全スタッフに通知」
        *   「特定の役割のスタッフに通知」(例: アルバイトのみ) - スタッフの役割属性が必要
        *   「特定のスタッフを選択して通知」 - スタッフ一覧からチェックボックスで選択
    *   `確認ボタン`: 「ヘルプを募集する」
*   **デザイン:**
    *   ステップバイステップで迷わない入力フォーム。
    *   送信対象の選択が簡単かつ明確。
    *   誤送信を防ぐための確認ステップを設けることも検討。

## 4. 操作フロー例

### 4.1. シフト希望の承認/却下 (リストビュー)

1.  管理者がダッシュボードを開く。
2.  日付範囲セレクターで対象期間を選択 (デフォルトは「今週」など)。
3.  シフト希望一覧に「申請中」のシフトが表示される。
4.  各希望に対して「承認」または「却下」ボタンをクリック。
5.  ステータスが更新され、人手サマリーもリアルタイムに変動。
6.  (一括操作の場合) 複数のシフトを選択し、「一括承認」をクリック。

### 4.2. 人員不足を発見し、ヘルプを募集する

1.  管理者がダッシュボードを開き、特定の日付の人手サマリーを確認。
2.  ある時間帯で人員不足 (グラフが赤く表示) を発見。
3.  サマリー横の「ヘルプ募集」ボタンをクリック。
4.  ヘルプ通知モーダルが開く。対象日時が自動入力されている。
5.  募集メッセージを確認・編集。
6.  送信対象を選択 (例: 「アルバイトのみ」)。
7.  「ヘルプを募集する」ボタンをクリックして通知を送信。

## 5. その他考慮事項

*   **レスポンシブデザイン:** スマートフォンやタブレットでも主要な機能が利用できるように考慮。
*   **ローディング状態:** データ取得中などはスケルトン表示やローディングスピナーを表示。
*   **エラーハンドリング:** 操作失敗時やデータ取得エラー時のフィードバックを明確に。
*   **Undo機能:** 誤操作を取り消せる機能 (例: 承認/却下直後) があると安心感が増す (優先度は中)。
*   **通知機能:** 新しいシフト申請があった場合などに管理者に通知 (アプリ内通知やメールなど、将来的に)。
